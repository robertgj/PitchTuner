<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PitchTuner: src/PitchTuner/PitchTunerFrame.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PitchTuner
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c43710908f8a603a82138632d6d6139a.html">PitchTuner</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">PitchTunerFrame.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="PitchTunerFrame_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// StdC++ headers</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;stdexcept&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;ctime&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">// wxWidgets include files</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;wx/wx.h&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;wx/wxprec.h&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;wx/thread.h&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;wx/choicdlg.h&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;wx/cmdline.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;wx/toolbar.h&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;wx/gdicmn.h&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;wx/display.h&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;wx/window.h&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;wx/event.h&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">// Local include files</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="saDeviceInfo_8h.html">saDeviceInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="saInputStream_8h.html">saInputStream.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="saInputFileSelector_8h.html">saInputFileSelector.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="saInputFileWav_8h.html">saInputFileWav.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="PreProcessor_8h.html">PreProcessor.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="PitchTracker_8h.html">PitchTracker.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="PitchTunerFrame_8h.html">PitchTunerFrame.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="guiOptionsDialog_8h.html">guiOptionsDialog.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="guiDeviceInfo_8h.html">guiDeviceInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="guiMeter_8h.html">guiMeter.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment">// The original icon is at https://www.flaticon.com/free-icon/tuning-fork_1005015</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;PitchTuner.xpm&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">// Use &quot;#&quot; or the hash to represent the sharp. </span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment">// In fact sharp is \u266F flat is \u266D</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="keyword">const</span> wxChar* </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><a class="code hl_variable" href="classPitchTunerFrame.html#a4dcdf34648018dbbee044a4bfac1285b">PitchTunerFrame::m_noteCharStrings</a>[<a class="code hl_variable" href="classPitchTunerFrame.html#ae60e45d2c7b2b5628e0312cc7a9d9ad1">PitchTunerFrame::m_numNotes</a>] = </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>  {</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    wxT(<span class="stringliteral">&quot;A5&quot;</span>), wxT(<span class="stringliteral">&quot;G5\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;G5&quot;</span>), wxT(<span class="stringliteral">&quot;F5\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;F5&quot;</span>), </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    wxT(<span class="stringliteral">&quot;E5&quot;</span>), wxT(<span class="stringliteral">&quot;D5\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;D5&quot;</span>), wxT(<span class="stringliteral">&quot;C5\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;C5&quot;</span>), </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    wxT(<span class="stringliteral">&quot;B4&quot;</span>), wxT(<span class="stringliteral">&quot;A4\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;A4&quot;</span>), wxT(<span class="stringliteral">&quot;G4\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;G4&quot;</span>), </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    wxT(<span class="stringliteral">&quot;F4\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;F4&quot;</span>), wxT(<span class="stringliteral">&quot;E4&quot;</span>), wxT(<span class="stringliteral">&quot;D4\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;D4&quot;</span>), </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    wxT(<span class="stringliteral">&quot;C4\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;C4&quot;</span>), wxT(<span class="stringliteral">&quot;B3&quot;</span>), wxT(<span class="stringliteral">&quot;A3\u266F&quot;</span>), wxT(<span class="stringliteral">&quot;A3&quot;</span>)</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  };</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="classPitchTunerFrame.html#a656f5f46a1cba557262d3308fb6adf3f">PitchTunerFrame::m_noteSemitonesFromA4</a>[<a class="code hl_variable" href="classPitchTunerFrame.html#ae60e45d2c7b2b5628e0312cc7a9d9ad1">PitchTunerFrame::m_numNotes</a>] = </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  {</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1,  </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    0, -1, -2, -3, -4, -5, -6, -7, -8, -9, -10, -11, -12 </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  };</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classPitchTunerFrame.html#ad225236ff1e92425a4f93d80e8b3200a">PitchTunerFrame::m_semitoneRatio</a> = powf(2.0f, 1.0f/12.0f);</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="classPitchTunerFrame.html#a37faed1e27db9f5191de03c05e9da362">PitchTunerFrame::m_1200onLog2</a> = 1200.0f/logf(2.0f);</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba31ebcdb6159c88b8f5ab708efdb148df">   59</a></span><span class="keyword">enum</span> { <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba31ebcdb6159c88b8f5ab708efdb148df">ID_Pitch</a> = wxID_HIGHEST+1,</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba01f7cb654bd3011d65868bbd56d33ce9">   60</a></span>       <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba01f7cb654bd3011d65868bbd56d33ce9">ID_EOS</a>,</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bad5ede63994300484a6a58a1087ea05e4">   61</a></span>       <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bad5ede63994300484a6a58a1087ea05e4">ID_ThreadError</a>,</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bac45bd918dfebf30575b0551c2480fb0a">   62</a></span>       <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bac45bd918dfebf30575b0551c2480fb0a">ID_GuiTest</a>,</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf425bef0cd624d8241ad50c96fcd8040">   63</a></span>       <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf425bef0cd624d8241ad50c96fcd8040">ID_DeviceOptions</a>,</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf587e870a11ee3eb564b09020706a377">   64</a></span>       <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf587e870a11ee3eb564b09020706a377">ID_About</a>,</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba9e71cde61b22f3b0d4946525ec0fd7a6">   65</a></span>       <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba9e71cde61b22f3b0d4946525ec0fd7a6">ID_Quit</a>};</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>DECLARE_EVENT_TYPE(wxEVT_PITCH_EVENT, -1)</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>DEFINE_EVENT_TYPE(wxEVT_PITCH_EVENT)</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>DECLARE_EVENT_TYPE(wxEVT_EOS_EVENT, -1)</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>DEFINE_EVENT_TYPE(wxEVT_EOS_EVENT)</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>DECLARE_EVENT_TYPE(wxEVT_THREAD_EVENT, -1)</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>DEFINE_EVENT_TYPE(wxEVT_THREAD_EVENT)</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>BEGIN_EVENT_TABLE(<a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>, wxFrame)</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>EVT_COMMAND(<a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba31ebcdb6159c88b8f5ab708efdb148df">ID_Pitch</a>, wxEVT_PITCH_EVENT, <a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::OnPitch)</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>EVT_COMMAND(<a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba01f7cb654bd3011d65868bbd56d33ce9">ID_EOS</a>, wxEVT_EOS_EVENT, <a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::OnEndOfStream)</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>EVT_COMMAND(<a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bad5ede63994300484a6a58a1087ea05e4">ID_ThreadError</a>, wxEVT_THREAD_EVENT, <a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::OnThreadError)</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>EVT_TIMER(<a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bac45bd918dfebf30575b0551c2480fb0a">ID_GuiTest</a>, <a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::OnGuiTest)</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>EVT_MENU(<a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf425bef0cd624d8241ad50c96fcd8040">ID_DeviceOptions</a>, <a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::OnDeviceOptions)</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>EVT_MENU(<a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf587e870a11ee3eb564b09020706a377">ID_About</a>, <a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::OnAbout)</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>EVT_MENU(<a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba9e71cde61b22f3b0d4946525ec0fd7a6">ID_Quit</a>, <a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::OnQuit)</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>EVT_CLOSE(<a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::OnClose)</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>END_EVENT_TABLE()</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a9097ede1ad83f5c8c05af3b36b271cff">   87</a></span><a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>::<a class="code hl_class" href="classPitchTunerFrame.html">PitchTunerFrame</a>( wxString fileName,</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>                                  wxString deviceName,</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>                                  <span class="keywordtype">float</span> sampleRate,</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>                                  std::<span class="keywordtype">size_t</span> channel,</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>                                  std::<span class="keywordtype">size_t</span> msLatency,</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>                                  std::<span class="keywordtype">size_t</span> subSample,</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>                                  <span class="keywordtype">float</span> inputLpFilterCutoff,</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>                                  <span class="keywordtype">float</span> baseLineHpFilterCutoff,</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>                                  <span class="keywordtype">bool</span> disableHpFilter,</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>                                  <span class="keywordtype">bool</span> disableAgc,</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>                                  std::<span class="keywordtype">size_t</span> msWindow,</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>                                  std::<span class="keywordtype">size_t</span> msTmax,</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                                  std::<span class="keywordtype">size_t</span> msTsample,</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>                                  <span class="keywordtype">float</span> threshold,</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>                                  <span class="keywordtype">bool</span> removeDC,</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>                                  <span class="keywordtype">float</span> A4Frequency,</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>                                  wxSize frameSize,</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                                  <span class="keywordtype">bool</span> guiTest,</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>                                  <span class="keywordtype">bool</span> debug ) </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>  : wxFrame((wxFrame *)NULL, wxID_ANY, wxT(&quot;<a class="code hl_class" href="classPitchTuner.html">PitchTuner</a>&quot;),</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>            wxDefaultPosition,</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>            frameSize,</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            wxCLIP_CHILDREN|wxRESIZE_BORDER|</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>            wxSYSTEM_MENU|wxCAPTION|wxCLOSE_BOX),</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  m_fileName(fileName),</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  m_deviceName(deviceName),</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  m_sampleRate(sampleRate),</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  m_deviceLatencyMs(msLatency),</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  m_channel(channel),</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>  m_subSample(subSample),</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>  m_inputLpFilterCutoff(inputLpFilterCutoff),</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  m_baseLineHpFilterCutoff(baseLineHpFilterCutoff),</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>  m_disableHpFilter(disableHpFilter),</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>  m_disableAgc(disableAgc),</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  m_msWindow(msWindow),</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  m_msTmax(msTmax),</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  m_msTsample(msTsample),</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  m_threshold(threshold),</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>  m_removeDC(removeDC),</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  m_A4Frequency(A4Frequency),</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  m_guiTest(guiTest),</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>  m_debug( debug ),</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  m_deviceFound( false ),</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>  m_A4FrequencyLower(420),</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>  m_A4FrequencyUpper(460),</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  m_frequency(0.0),</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>  m_units(wxString(wxT(&quot;cents&quot;))),</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>  m_noteNames(m_numNotes, m_noteCharStrings),</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>  m_noteNameIndex(m_A4NoteNameIndex),</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>  m_deviceInfo(),</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>  m_deviceInfoIndex(0),</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  m_deviceSampleRateIndex(0),</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  m_pitchSample(0.0),</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  m_voiced(false),</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  m_meter(0),</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>  m_runThread(false),</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  m_guiMutex(),</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>  m_guiEvent(wxEVT_PITCH_EVENT, <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba31ebcdb6159c88b8f5ab708efdb148df">ID_Pitch</a>),</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>  m_threadEvent(wxEVT_THREAD_EVENT, <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bad5ede63994300484a6a58a1087ea05e4">ID_ThreadError</a>),</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>  m_eosEvent(wxEVT_EOS_EVENT, <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba01f7cb654bd3011d65868bbd56d33ce9">ID_EOS</a>),</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>  m_EndOfStream( false ),</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>  m_guiTestTimerIntervalMs(2000),</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>  m_guiTestTimer()</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>{</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <span class="comment">// Define an event used to trigger Gui updates</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  m_guiEvent.SetEventObject(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  m_threadEvent.SetEventObject(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  m_eosEvent.SetEventObject(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <span class="comment">// Set note ratios</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> noteIndex=0; noteIndex&lt;m_numNotes; noteIndex++)</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    {</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>      m_noteRatioFromA4[noteIndex] = </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        powf(m_semitoneRatio, (<span class="keywordtype">float</span>)m_noteSemitonesFromA4[noteIndex]);</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    }</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  m_frequency = m_noteRatioFromA4[m_noteNameIndex]*(float)m_A4Frequency;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>  <span class="comment">// Create gui elements</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>  CreateGui();</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>  <span class="keywordflow">if</span>(m_guiTest)</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>      m_guiTestTimer.SetOwner(GetEventHandler(), <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bac45bd918dfebf30575b0551c2480fb0a">ID_GuiTest</a>);</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>      m_guiTestTimer.Start( m_guiTestTimerIntervalMs, wxTIMER_CONTINUOUS );</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>  </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  <span class="comment">// Find available audio devices</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>  m_deviceFound = FindAudioDevices();</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  <span class="keywordflow">if</span> ( m_deviceFound )</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>      <span class="comment">// Start the pitch sampling thread</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>      RunThread();</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    }</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    {</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>      wxMessageBox(<span class="stringliteral">&quot;&quot;</span>, wxT(<span class="stringliteral">&quot;No audio device!&quot;</span>), wxICON_EXCLAMATION|wxOK);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    }</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>}</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a624e1b2faaa1a6065f43ddfc04df5156">  186</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#a624e1b2faaa1a6065f43ddfc04df5156">PitchTunerFrame::HandleError</a>(<span class="keyword">const</span> wxString errStr)</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>{</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>  wxMessageBox(errStr, wxT(<span class="stringliteral">&quot;Error!&quot;</span>), wxICON_EXCLAMATION|wxOK);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>  Close();</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>}</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a6e47ac367cd8cc8c6fce8e8682359835">  192</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classPitchTunerFrame.html#a6e47ac367cd8cc8c6fce8e8682359835">PitchTunerFrame::FindAudioDevices</a>()</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>{</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>  <span class="comment">// Query devices</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>  <a class="code hl_class" href="classSimpleAudio_1_1saDeviceInfo.html">SimpleAudio::saDeviceInfo</a> <a class="code hl_class" href="classSimpleAudio_1_1saDeviceInfo.html">saDeviceInfo</a>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>  <a class="code hl_class" href="classSimpleAudio_1_1saDeviceInfo.html">saDeviceInfo</a>.<a class="code hl_function" href="classSimpleAudio_1_1saDeviceInfo.html#a4789c61c74b0080bbca2bfd1adfda3a9">queryInputDevices</a>();</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classSimpleAudio_1_1saDeviceInfo.html">saDeviceInfo</a>.<a class="code hl_function" href="classSimpleAudio_1_1saDeviceInfo.html#a31d1053aee208079bcc3c5e1884774df">Empty</a>())</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>      <span class="comment">// Can&#39;t call Destroy() in constructor!</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>  <span class="comment">// Number of devices?</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>  <a class="code hl_typedef" href="namespaceSimpleAudio.html#a4e73d87b55cae670ab54f236d51448e6">SimpleAudio::saDeviceInfoDeviceNameList</a> saDeviceNameList;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>  <a class="code hl_class" href="classSimpleAudio_1_1saDeviceInfo.html">saDeviceInfo</a>.<a class="code hl_function" href="classSimpleAudio_1_1saDeviceInfo.html#a32f7d65fd295ff9f2fb741c56bc740ed">getDeviceNames</a>(saDeviceNameList);  </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>  std::size_t numDevices = saDeviceNameList.size();</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>  <a class="code hl_variable" href="classPitchTunerFrame.html#a8e98d9f271b63ac155e559d21dbda1fc">m_deviceInfo</a>.<a class="code hl_function" href="classPitchTunerGui_1_1guiDeviceInfo.html#ad32d49a971975381c10210a89ccd4d99">Alloc</a>(numDevices);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>  <span class="comment">// Copy devices</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>  <span class="keywordflow">for</span> (std::size_t deviceNum=0; deviceNum&lt;numDevices; deviceNum++)</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>      <a class="code hl_typedef" href="namespaceSimpleAudio.html#a26d565e8a538ae4296a2f24f8ac5157f">SimpleAudio::saDeviceInfoSampleRateList</a> saSampleRateList;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>      <a class="code hl_class" href="classSimpleAudio_1_1saDeviceInfo.html">saDeviceInfo</a>.<a class="code hl_function" href="classSimpleAudio_1_1saDeviceInfo.html#a4af59d73169316a4b750b4e8146259b8">getDeviceSampleRateList</a>(saDeviceNameList[deviceNum], </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>                                           saSampleRateList);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>      <a class="code hl_variable" href="classPitchTunerFrame.html#a8e98d9f271b63ac155e559d21dbda1fc">m_deviceInfo</a>.<a class="code hl_function" href="classPitchTunerGui_1_1guiDeviceInfo.html#a5e8f39c7dbabf8a275c90dded23d41f3">AddDevice</a>(saDeviceNameList[deviceNum], saSampleRateList);</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    }</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>}</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a643322c5afb1004a4084387ef8f4685c">  221</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#a643322c5afb1004a4084387ef8f4685c">PitchTunerFrame::CreateGui</a>()</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>{  </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>  <span class="comment">// set the frame icon</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>  SetIcon(wxICON(<a class="code hl_class" href="classPitchTuner.html">PitchTuner</a>));</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  <span class="comment">// Create a menu bar</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  wxMenuBar *menuBar = <span class="keyword">new</span> wxMenuBar;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>  wxMenu *optionsMenu = <span class="keyword">new</span> wxMenu;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  optionsMenu-&gt;Append( <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf425bef0cd624d8241ad50c96fcd8040">ID_DeviceOptions</a>, wxT(<span class="stringliteral">&quot;&amp;Device Options&quot;</span>) );</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>  optionsMenu-&gt;Append( <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf587e870a11ee3eb564b09020706a377">ID_About</a>, wxT(<span class="stringliteral">&quot;&amp;About&quot;</span>) );</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>  optionsMenu-&gt;Append( <a class="code hl_enumvalue" href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba9e71cde61b22f3b0d4946525ec0fd7a6">ID_Quit</a>, wxT(<span class="stringliteral">&quot;&amp;Quit&quot;</span>) );</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  menuBar-&gt;Append( optionsMenu, wxT(<span class="stringliteral">&quot;&amp;Options&quot;</span>) );</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  SetMenuBar( menuBar );</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>  <span class="comment">// Initialise m_meter AFTER creating menu bar so client area is correct</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>  <span class="keywordflow">try</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    {</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>      <a class="code hl_variable" href="classPitchTunerFrame.html#a9ddd40910478c3de15814b83632f5abd">m_meter</a> = <span class="keyword">new</span> <a class="code hl_class" href="classPitchTunerGui_1_1guiMeter.html">guiMeter</a></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        (<span class="keyword">this</span>, wxID_ANY, <a class="code hl_variable" href="classPitchTunerFrame.html#a9968aa18b15da5aaadf47e2d2002dcab">m_noteNames</a>[<a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a>], <a class="code hl_variable" href="classPitchTunerFrame.html#a94a53675d8ae294618f5923f15db37a4">m_units</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#a2bae886ab2c21c8d5a926525346b9674">m_frequency</a>);</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>  <span class="keywordflow">catch</span> (std::bad_alloc&amp; excpt)</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>      <a class="code hl_function" href="classPitchTunerFrame.html#a624e1b2faaa1a6065f43ddfc04df5156">HandleError</a>(wxT(<span class="stringliteral">&quot;Memory allocation failed initialising guiMeter()&quot;</span>));</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    }</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>}</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#adfc0b43df9d803fb66ac7b68776805f7">  248</a></span><a class="code hl_function" href="classPitchTunerFrame.html#adfc0b43df9d803fb66ac7b68776805f7">PitchTunerFrame::UpdateGui</a>()</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>{</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>  <span class="comment">// Calculate and set the current pitch error</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  {</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="comment">// Lock data shared with the pitch tracker thread</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    wxMutexLocker lock(<a class="code hl_variable" href="classPitchTunerFrame.html#a3c399a02aa89b0115d8634f9d540f284">m_guiMutex</a>);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="comment">// Set the note name and frequency displayed on the meter</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#a3d758479c820041aece359dd778bcfa8">m_voiced</a>)</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>      {</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        <span class="comment">// Estimate the closest semitone in the equal-tempered scale</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        <span class="keywordtype">int</span> index_offset =</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>          (int)round(<a class="code hl_variable" href="classPitchTunerFrame.html#a37faed1e27db9f5191de03c05e9da362">m_1200onLog2</a>*logf(<a class="code hl_variable" href="classPitchTunerFrame.html#adb2a2ed5d25237f981405e88b13a6348">m_pitchSample</a>/<a class="code hl_variable" href="classPitchTunerFrame.html#a912229b2498f3e636287abbbeaa289e3">m_A4Frequency</a>)/100.0);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        <a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a> = <a class="code hl_variable" href="classPitchTunerFrame.html#a77d374829e78ba096091e8410735a00a">m_A4NoteNameIndex</a> - index_offset;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a> &lt; 0)</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>          {</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>            <a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a>=0;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>          }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a> &gt;= <a class="code hl_variable" href="classPitchTunerFrame.html#ae60e45d2c7b2b5628e0312cc7a9d9ad1">m_numNotes</a>)</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>          {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>            <a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a>=<a class="code hl_variable" href="classPitchTunerFrame.html#ae60e45d2c7b2b5628e0312cc7a9d9ad1">m_numNotes</a>-1;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>          }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <a class="code hl_variable" href="classPitchTunerFrame.html#a2bae886ab2c21c8d5a926525346b9674">m_frequency</a> = <a class="code hl_variable" href="classPitchTunerFrame.html#a7666a6a5fe4c4e5ed5a9342de4bb3186">m_noteRatioFromA4</a>[<a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a>]*(float)<a class="code hl_variable" href="classPitchTunerFrame.html#a912229b2498f3e636287abbbeaa289e3">m_A4Frequency</a>;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        <a class="code hl_variable" href="classPitchTunerFrame.html#a9ddd40910478c3de15814b83632f5abd">m_meter</a>-&gt;<a class="code hl_function" href="classPitchTunerGui_1_1guiMeter.html#abc22dbe881c10e631dbc425f65df69cd">SetFrequency</a>(<a class="code hl_variable" href="classPitchTunerFrame.html#a2bae886ab2c21c8d5a926525346b9674">m_frequency</a>);</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <a class="code hl_variable" href="classPitchTunerFrame.html#a9ddd40910478c3de15814b83632f5abd">m_meter</a>-&gt;<a class="code hl_function" href="classPitchTunerGui_1_1guiMeter.html#a0428e8a1596c04d859b38c3f874a4943">SetName</a>(<a class="code hl_variable" href="classPitchTunerFrame.html#a9968aa18b15da5aaadf47e2d2002dcab">m_noteNames</a>[<a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a>]);</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>      }</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="comment">// Pitch error in cents (100ths of a semitone)</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <a class="code hl_variable" href="classPitchTunerFrame.html#a9ddd40910478c3de15814b83632f5abd">m_meter</a>-&gt;<a class="code hl_function" href="classPitchTunerGui_1_1guiMeter.html#a3c571c441b2940ed51c5c6d0d2dad92e">SetPitch</a>(<a class="code hl_variable" href="classPitchTunerFrame.html#adb2a2ed5d25237f981405e88b13a6348">m_pitchSample</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#a3d758479c820041aece359dd778bcfa8">m_voiced</a>);</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="keywordtype">float</span> pitchError = <a class="code hl_variable" href="classPitchTunerFrame.html#a37faed1e27db9f5191de03c05e9da362">m_1200onLog2</a>*logf(<a class="code hl_variable" href="classPitchTunerFrame.html#adb2a2ed5d25237f981405e88b13a6348">m_pitchSample</a>/<a class="code hl_variable" href="classPitchTunerFrame.html#a2bae886ab2c21c8d5a926525346b9674">m_frequency</a>);</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <a class="code hl_variable" href="classPitchTunerFrame.html#a9ddd40910478c3de15814b83632f5abd">m_meter</a>-&gt;<a class="code hl_function" href="classPitchTunerGui_1_1guiMeter.html#a1fdd77cfdd9ae63c8124afb477ac5a9e">SetPitchError</a>(pitchError);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  <span class="comment">// Paint the meter</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>  <a class="code hl_variable" href="classPitchTunerFrame.html#a9ddd40910478c3de15814b83632f5abd">m_meter</a>-&gt;<a class="code hl_function" href="classPitchTunerGui_1_1guiMeter.html#abc4a1d488c704ec5ab1d2163a0a69ce5">RePaint</a>();</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>}</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a6a4123b218a3f83ad66d963dc031cae9">  286</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#a6a4123b218a3f83ad66d963dc031cae9">PitchTunerFrame::OnDeviceOptions</a>(wxCommandEvent&amp; WXUNUSED(event))</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>{</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <span class="comment">// Stop the pitch sampling thread</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>  <a class="code hl_function" href="classPitchTunerFrame.html#aec3ff757badf5c2c395d3ae294b1df39">StopThread</a>();</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>  <span class="comment">// Create dialog</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  <a class="code hl_class" href="classPitchTunerGui_1_1guiOptionsDialog.html">guiOptionsDialog</a> optionsDialog(<span class="keyword">this</span>,</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                                 wxString(wxT(<span class="stringliteral">&quot;Options&quot;</span>)), </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#a8e98d9f271b63ac155e559d21dbda1fc">m_deviceInfo</a>,</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#afa3a6fc3170d2cae5cd07773486c6d84">m_deviceInfoIndex</a>,</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#a5321a965113cd16b8b2991b033d3b4e8">m_deviceSampleRateIndex</a>,</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#a42b6f4660a9381d4e94648d76a1f910f">m_A4FrequencyLower</a>,</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#a86fe850d493a3a1b408845677b62cdb9">m_A4FrequencyUpper</a>,</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#a912229b2498f3e636287abbbeaa289e3">m_A4Frequency</a>);</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>  <span class="comment">// Show dialog</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>  <span class="keywordflow">if</span> ( optionsDialog.ShowModal() == wxID_OK )</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>      <span class="comment">// Set device</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>      <a class="code hl_variable" href="classPitchTunerFrame.html#afa3a6fc3170d2cae5cd07773486c6d84">m_deviceInfoIndex</a> = optionsDialog.<a class="code hl_function" href="classPitchTunerGui_1_1guiOptionsDialog.html#af289d4d6d6c50e66b61045068ced118d">GetDeviceNameIndex</a>();</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>      <a class="code hl_variable" href="classPitchTunerFrame.html#a5321a965113cd16b8b2991b033d3b4e8">m_deviceSampleRateIndex</a> = optionsDialog.<a class="code hl_function" href="classPitchTunerGui_1_1guiOptionsDialog.html#ab31d1ce1ba2c97d30c38e4ef9ee3a778">GetDeviceSampleRateIndex</a>();</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>      </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>      <span class="comment">// Set A4 frequency on meter</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>      <a class="code hl_variable" href="classPitchTunerFrame.html#a912229b2498f3e636287abbbeaa289e3">m_A4Frequency</a> = optionsDialog.<a class="code hl_function" href="classPitchTunerGui_1_1guiOptionsDialog.html#a2b79fb5c3315c797ec25faf12870d65e">GetA4Frequency</a>();</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    } </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>  <span class="comment">// Start the pitch sampling thread</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>  <a class="code hl_function" href="classPitchTunerFrame.html#a9bd41f63b369c4294e0fdde40bca2419">RunThread</a>();</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>}</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#af4d19db65260535d3581cf247b18641b">  316</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#af4d19db65260535d3581cf247b18641b">PitchTunerFrame::OnAbout</a>(wxCommandEvent&amp; WXUNUSED(event))</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>{</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  wxMessageBox(wxT(<span class="stringliteral">&quot;PitchTuner is based on: \&quot;YIN, A fundamental frequency\n&quot;</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                   <span class="stringliteral">&quot;estimator for speech and music\&quot;, A. de Cheveigne and\n&quot;</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                   <span class="stringliteral">&quot;H. Kawahara, Journal of the Acoustical Society of America,\n&quot;</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                   <span class="stringliteral">&quot;Vol. 11, No. 4, April 2002, pp. 1917-1930. \n&quot;</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                   <span class="stringliteral">&quot;The GUI uses wxWidgets: https://www.wxwidgets.org\n&quot;</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                   <span class="stringliteral">&quot;The original icon is at:\n&quot;</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                   <span class="stringliteral">&quot;https://www.flaticon.com/free-icon/tuning-fork_1005015\n&quot;</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                   <span class="stringliteral">&quot;Copyright (C) 2023 Robert G. Jenssen\n&quot;</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                   <span class="stringliteral">&quot;Permission is hereby granted, free of charge, to any \n&quot;</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                   <span class="stringliteral">&quot;person obtaining a copy of this software and associated\n&quot;</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                   <span class="stringliteral">&quot;documentation files (the “Software”), to deal in the\n&quot;</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                   <span class="stringliteral">&quot;Software without restriction, including without\n&quot;</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>                   <span class="stringliteral">&quot;limitation the rights to use, copy, modify, merge,\n&quot;</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                   <span class="stringliteral">&quot;publish, distribute, sublicense, and/or sell copies of\n&quot;</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                   <span class="stringliteral">&quot;the Software, and to permit persons to whom the\n&quot;</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                   <span class="stringliteral">&quot;Software is furnished to do so, subject to the\n&quot;</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                   <span class="stringliteral">&quot;following conditions:\n&quot;</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                   <span class="stringliteral">&quot;The above copyright notice and this permission notice\n&quot;</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                   <span class="stringliteral">&quot;shall be included in all copies or substantial portions\n&quot;</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>                   <span class="stringliteral">&quot;of the Software.\n&quot;</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                   <span class="stringliteral">&quot;THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT \n&quot;</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                   <span class="stringliteral">&quot;WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, \n&quot;</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                   <span class="stringliteral">&quot;INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n&quot;</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                   <span class="stringliteral">&quot;OF MERCHANTABILITY, FITNESS FOR A PARTICULAR\n&quot;</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                   <span class="stringliteral">&quot;PURPOSE AND NONINFRINGEMENT. IN NO EVENT \n&quot;</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                   <span class="stringliteral">&quot;SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE \n&quot;</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                   <span class="stringliteral">&quot;LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n&quot;</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                   <span class="stringliteral">&quot;LIABILITY, WHETHER IN AN ACTION OF CONTRACT, \n&quot;</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                   <span class="stringliteral">&quot;TORT OR OTHERWISE, ARISING FROM, OUT OF OR \n&quot;</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                   <span class="stringliteral">&quot;IN CONNECTION WITH THE SOFTWARE OR THE USE \n&quot;</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                   <span class="stringliteral">&quot;OR OTHER DEALINGS IN THE SOFTWARE.&quot;</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                   ),</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>               wxT(<span class="stringliteral">&quot;About PitchTuner&quot;</span>),</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>               wxOK|wxICON_INFORMATION, <span class="keyword">this</span>);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>}</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#aa75f1186c539552c7a6be0e3ad038f51">  360</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#aa75f1186c539552c7a6be0e3ad038f51">PitchTunerFrame::OnQuit</a>(wxCommandEvent&amp; WXUNUSED(event))</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>{</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>  Close();</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>}</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#ae3e996f3ccafd74f023c451a4c6bfb1a">  365</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#ae3e996f3ccafd74f023c451a4c6bfb1a">PitchTunerFrame::OnEndOfStream</a>(wxCommandEvent&amp; WXUNUSED(event))</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>{</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>  Close();</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>}</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a0c06945e219215c9739b4571947f1668">  370</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#a0c06945e219215c9739b4571947f1668">PitchTunerFrame::OnThreadError</a>(wxCommandEvent&amp; WXUNUSED(event))</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>{</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>  <a class="code hl_function" href="classPitchTunerFrame.html#a624e1b2faaa1a6065f43ddfc04df5156">HandleError</a>(<a class="code hl_variable" href="classPitchTunerFrame.html#abe7c21b51be1da2a5bb4d27b500ff6ef">m_threadErrStr</a>);</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>}</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a6b5efdc61604f30b6a0f2d2b548a7ec2">  375</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#a6b5efdc61604f30b6a0f2d2b548a7ec2">PitchTunerFrame::OnClose</a>(wxCloseEvent&amp; WXUNUSED(event))</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>{</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>  <a class="code hl_function" href="classPitchTunerFrame.html#aec3ff757badf5c2c395d3ae294b1df39">StopThread</a>();</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>  Destroy();</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>  <span class="comment">// Needed to send a GUI event?</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  ::wxWakeUpIdle();</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>}</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a0cb3ec24d2a6b9236f523681dd0d61e4">  384</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#a0cb3ec24d2a6b9236f523681dd0d61e4">PitchTunerFrame::OnPitch</a>(wxCommandEvent&amp; WXUNUSED(event))</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>{</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  <a class="code hl_function" href="classPitchTunerFrame.html#adfc0b43df9d803fb66ac7b68776805f7">UpdateGui</a>();</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>  <span class="keywordflow">if</span> ( <a class="code hl_variable" href="classPitchTunerFrame.html#a67320329e3515c9d02089a22e12ba035">m_debug</a> &amp;&amp; <a class="code hl_variable" href="classPitchTunerFrame.html#a3d758479c820041aece359dd778bcfa8">m_voiced</a> )</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>      std::cerr &lt;&lt; <a class="code hl_variable" href="classPitchTunerFrame.html#adb2a2ed5d25237f981405e88b13a6348">m_pitchSample</a> &lt;&lt; std::endl;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    }</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>}</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a8eaad416a559fdb159339c0e8abfaa76">  394</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#a8eaad416a559fdb159339c0e8abfaa76">PitchTunerFrame::OnGuiTest</a>(wxTimerEvent&amp; WXUNUSED(event))</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>{</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  <span class="keyword">typedef</span> <span class="keyword">struct </span>_TestSamples_t</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>  { <span class="keyword">const</span> <span class="keywordtype">float</span> pitch; <span class="keywordtype">bool</span> voiced; <span class="keyword">const</span> <span class="keywordtype">char</span> *comment;} TestSamples_t;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>  <span class="keyword">static</span> <span class="keyword">const</span> TestSamples_t pitch_samples[] = {</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    { 261.79, <span class="keyword">true</span>, <span class="stringliteral">&quot;estimate of timidity C4&quot;</span> }, </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    { 293.27, <span class="keyword">true</span>, <span class="stringliteral">&quot;estimate of timidity D4&quot;</span> },</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    { 327.95, <span class="keyword">true</span>, <span class="stringliteral">&quot;estimate of timidity E4&quot;</span> },</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    { 349.38, <span class="keyword">true</span>, <span class="stringliteral">&quot;estimate of timidity F4&quot;</span> },</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    { 392.18, <span class="keyword">true</span>, <span class="stringliteral">&quot;estimate of timidity G4&quot;</span> },</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    { 439.97, <span class="keyword">true</span>, <span class="stringliteral">&quot;estimate of timidity A4&quot;</span> },</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    { 494.69, <span class="keyword">true</span>, <span class="stringliteral">&quot;estimate of timidity B4&quot;</span> },</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    { 523.83, <span class="keyword">true</span>, <span class="stringliteral">&quot;estimate of timidity C5&quot;</span> },</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    { 257.88, <span class="keyword">true</span>, <span class="stringliteral">&quot;C4 25 cents low&quot;</span> },</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    { 265.44, <span class="keyword">true</span>, <span class="stringliteral">&quot;C4 25 cents high&quot;</span> },</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    { 433.69, <span class="keyword">true</span>, <span class="stringliteral">&quot;A4 25 cents low&quot;</span> },</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    { 446.40, <span class="keyword">true</span>, <span class="stringliteral">&quot;A4 25 cents high&quot;</span> },</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    {      0, <span class="keyword">false</span>, <span class="stringliteral">&quot;no pitch&quot;</span> },</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>  };</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> pitch_index = 0;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>  {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    wxMutexLocker lock(<a class="code hl_variable" href="classPitchTunerFrame.html#a3c399a02aa89b0115d8634f9d540f284">m_guiMutex</a>);</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <a class="code hl_variable" href="classPitchTunerFrame.html#a3d758479c820041aece359dd778bcfa8">m_voiced</a> = pitch_samples[pitch_index].voiced;</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <a class="code hl_variable" href="classPitchTunerFrame.html#adb2a2ed5d25237f981405e88b13a6348">m_pitchSample</a> = pitch_samples[pitch_index].pitch;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>  }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>  <a class="code hl_function" href="classPitchTunerFrame.html#adfc0b43df9d803fb66ac7b68776805f7">UpdateGui</a>();</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#a67320329e3515c9d02089a22e12ba035">m_debug</a>)</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>      std::cerr &lt;&lt; wxString::Format(wxT(<span class="stringliteral">&quot;OnGuiTest: m_pitchSample = %6.2f&quot;</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                                        <span class="stringliteral">&quot; m_frequency = %6.2f&quot;</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                                        <span class="stringliteral">&quot; m_noteNames[] = %s : %s\n&quot;</span>),</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                                    <a class="code hl_variable" href="classPitchTunerFrame.html#adb2a2ed5d25237f981405e88b13a6348">m_pitchSample</a>,</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                                    <a class="code hl_variable" href="classPitchTunerFrame.html#a2bae886ab2c21c8d5a926525346b9674">m_frequency</a>,</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>                                    <a class="code hl_variable" href="classPitchTunerFrame.html#a9968aa18b15da5aaadf47e2d2002dcab">m_noteNames</a>[<a class="code hl_variable" href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">m_noteNameIndex</a>],</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>                                    pitch_samples[pitch_index].comment);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    }</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>  </div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>  pitch_index += 1;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>  <span class="keywordflow">if</span> (pitch_index &gt;= <span class="keyword">sizeof</span>(pitch_samples)/<span class="keyword">sizeof</span>(TestSamples_t))</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    {</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>      pitch_index = 0;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    }</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>}</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#a9bd41f63b369c4294e0fdde40bca2419">  441</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#a9bd41f63b369c4294e0fdde40bca2419">PitchTunerFrame::RunThread</a>()</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>{</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#aeca830bab8092a7f5fb4b41e500ed8fd">m_guiTest</a>) </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>  <span class="comment">// Start the thread</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>  <span class="keywordflow">if</span> (wxThreadHelper::CreateThread() != wxTHREAD_NO_ERROR)</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>      <a class="code hl_function" href="classPitchTunerFrame.html#a624e1b2faaa1a6065f43ddfc04df5156">HandleError</a>(wxString(<span class="stringliteral">&quot;failed to create thread&quot;</span>));</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span> </div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>  <a class="code hl_variable" href="classPitchTunerFrame.html#a842c5b15506e9e12684e22faab489ee3">m_runThread</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>  wxThreadHelper::GetThread()-&gt;SetPriority(WXTHREAD_MIN_PRIORITY);</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>  <span class="keywordflow">if</span> (wxThreadHelper::GetThread()-&gt;Run() != wxTHREAD_NO_ERROR)</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>      <a class="code hl_function" href="classPitchTunerFrame.html#a624e1b2faaa1a6065f43ddfc04df5156">HandleError</a>(wxString(<span class="stringliteral">&quot;failed to run thread&quot;</span>));</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span> </div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#a67320329e3515c9d02089a22e12ba035">m_debug</a>)</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    {</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>      std::cerr &lt;&lt; wxString::Format(wxT(<span class="stringliteral">&quot;Running thread\n&quot;</span>));</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    }</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>}</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span> </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#aec3ff757badf5c2c395d3ae294b1df39">  467</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classPitchTunerFrame.html#aec3ff757badf5c2c395d3ae294b1df39">PitchTunerFrame::StopThread</a>()</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>{</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#aeca830bab8092a7f5fb4b41e500ed8fd">m_guiTest</a>) </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    {</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    }</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span> </div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  <span class="comment">// Stop the thread</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>  <span class="keywordflow">if</span> ( wxThreadHelper::GetThread()-&gt;IsRunning() )</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    {</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>      <a class="code hl_variable" href="classPitchTunerFrame.html#a842c5b15506e9e12684e22faab489ee3">m_runThread</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>      <span class="comment">// Race possible here?</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>      wxThreadHelper::GetThread()-&gt;Wait();</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    }</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span> </div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#a67320329e3515c9d02089a22e12ba035">m_debug</a>)</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>      std::cerr &lt;&lt; wxString::Format(wxT(<span class="stringliteral">&quot;Thread stopped\n&quot;</span>));</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>}</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span> </div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno"><a class="line" href="classPitchTunerFrame.html#abb46e4f8cbf5cc2761c1764aa8850eda">  488</a></span>wxThread::ExitCode <a class="code hl_function" href="classPitchTunerFrame.html#abb46e4f8cbf5cc2761c1764aa8850eda">PitchTunerFrame::Entry</a>()</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>{</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <span class="comment">// Prevent exceptions being passed to wxWidgets</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  <span class="keywordflow">try</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>      <span class="comment">// Open the audio input stream</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>      wxString sourceName;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#ab1683c2d81246b644126287940bf044a">m_fileName</a>.Length())</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>          sourceName = <a class="code hl_variable" href="classPitchTunerFrame.html#ab1683c2d81246b644126287940bf044a">m_fileName</a>;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>        }</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classPitchTunerFrame.html#a7e5106bccacc91d503b33f3193b4d08f">m_deviceName</a>.Length())</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>          sourceName = <a class="code hl_variable" href="classPitchTunerFrame.html#a7e5106bccacc91d503b33f3193b4d08f">m_deviceName</a>;</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        }</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        {</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>          sourceName = <a class="code hl_variable" href="classPitchTunerFrame.html#a8e98d9f271b63ac155e559d21dbda1fc">m_deviceInfo</a>.<a class="code hl_function" href="classPitchTunerGui_1_1guiDeviceInfo.html#a43dba31d115ef60a07576def3f4f0320">GetDeviceName</a>(<a class="code hl_variable" href="classPitchTunerFrame.html#afa3a6fc3170d2cae5cd07773486c6d84">m_deviceInfoIndex</a>);</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>      <span class="comment">// Open stream</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>      std::string name(sourceName.c_str());</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>      std::size_t sampleRate = <a class="code hl_variable" href="classPitchTunerFrame.html#a8e98d9f271b63ac155e559d21dbda1fc">m_deviceInfo</a>.<a class="code hl_function" href="classPitchTunerGui_1_1guiDeviceInfo.html#a0d43142cc9190515cf72338ec6fc4e75">GetDeviceSampleRate</a></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        (<a class="code hl_variable" href="classPitchTunerFrame.html#afa3a6fc3170d2cae5cd07773486c6d84">m_deviceInfoIndex</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#a5321a965113cd16b8b2991b033d3b4e8">m_deviceSampleRateIndex</a>);</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>      </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>      <a class="code hl_class" href="classSimpleAudio_1_1saInputStream.html">saInputStream</a>* inputStreamPtr;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>      <span class="keywordflow">if</span> ( <a class="code hl_variable" href="classPitchTunerFrame.html#ab1683c2d81246b644126287940bf044a">m_fileName</a>.IsEmpty() )</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>          inputStreamPtr = <a class="code hl_function" href="namespaceSimpleAudio.html#a77fa3db2da531e8d0cd3f6f8e69046fb">SimpleAudio::saInputStreamOpenDevice</a></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>            (name, sampleRate, <a class="code hl_variable" href="classPitchTunerFrame.html#a1ca32c26a6550f44eadf0bd60e7c8a84">m_deviceLatencyMs</a>);</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        }</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        {</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>          inputStreamPtr = <a class="code hl_function" href="namespaceSimpleAudio.html#aac6a515d3aa36949fa6908029c58c4b0">SimpleAudio::saInputStreamOpenFile</a>(name);</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        }</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>      std::unique_ptr&lt;SimpleAudio::saInputStream&gt; inputStream(inputStreamPtr);</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>      <span class="keywordflow">if</span> ( <a class="code hl_variable" href="classPitchTunerFrame.html#a67320329e3515c9d02089a22e12ba035">m_debug</a> )</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        {</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>          std::cerr &lt;&lt; wxString::Format(wxT(<span class="stringliteral">&quot;Opening %s, sample rate %ld\n&quot;</span>), </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>                                        sourceName.c_str(), sampleRate);</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        }</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>      sampleRate = inputStream-&gt;GetFramesPerSecond();</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>      <span class="comment">// Create a pitch tracker for the input stream</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>      <span class="comment">// Create PreProcessor</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>      std::unique_ptr&lt;PreProcessor&gt; </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        pre( <a class="code hl_function" href="PreProcessor_8cc.html#a04b47c92b7e74425eca5805f3bd52208">PreProcessorCreate</a>( inputStream.get(), <a class="code hl_variable" href="classPitchTunerFrame.html#a5288b0f1a356de63126054e017af5e42">m_channel</a>, </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#a48eb4987fbc198cc9d8912721eb07e67">m_msWindow</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#a5a440d81511374fbf8eb0ba04190d39b">m_msTmax</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#aca86e45791f4b803dfb6d274b4039857">m_msTsample</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#ab71e3f89a7f5ad87ee7e372b11841a81">m_subSample</a>,</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#a7d6446265c8ff281dcdbd731f7e1f074">m_inputLpFilterCutoff</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#a2425470b7e551d201ca574d1bfaf406d">m_baseLineHpFilterCutoff</a>,</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>                                 <a class="code hl_variable" href="classPitchTunerFrame.html#a1855245a2b04374760518736bac5a3bc">m_disableHpFilter</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#a3844bea220deb20b0f960e32f7cf9831">m_disableAgc</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#a67320329e3515c9d02089a22e12ba035">m_debug</a> ) );</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>      <span class="comment">// Create PitchTracker</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>      std::unique_ptr&lt;PitchTracker&gt; </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        tracker( <a class="code hl_function" href="PitchTracker_8cc.html#af8331d758b7554af5d898200bdeaf3bf">PitchTrackerCreate</a></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>                 ( pre-&gt;SubSampleRate(), pre-&gt;WindowLength(), pre-&gt;MaxLags(),</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                   <a class="code hl_variable" href="classPitchTunerFrame.html#a33276a0691fbd0ec1ce1a1e919365193">m_threshold</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#aad7659aaaf8dc9225565d21b62897319">m_removeDC</a>, <a class="code hl_variable" href="classPitchTunerFrame.html#a67320329e3515c9d02089a22e12ba035">m_debug</a> ) );</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span> </div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>      <span class="comment">// Read from the pitch tracker</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>      <span class="keywordflow">while</span> ( <a class="code hl_variable" href="classPitchTunerFrame.html#a842c5b15506e9e12684e22faab489ee3">m_runThread</a> )</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>          <span class="comment">// Sanity check</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>          <span class="keywordflow">if</span> ( inputStream-&gt;EndOfSource() )</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>            {</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>              <span class="keywordflow">if</span> ( <a class="code hl_variable" href="classPitchTunerFrame.html#ab1683c2d81246b644126287940bf044a">m_fileName</a>.IsEmpty() )</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                  <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unexpected end-of-stream!&quot;</span>);</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>                }</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>              <span class="keywordflow">else</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                {</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                  <a class="code hl_variable" href="classPitchTunerFrame.html#a6c181dcae4852db3efd28ac91210e779">m_EndOfStream</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                  GetEventHandler()-&gt;AddPendingEvent( <a class="code hl_variable" href="classPitchTunerFrame.html#a47a69fdbb0cbdcb5966011c1c0fad63d">m_eosEvent</a> );</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            }</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>          <span class="comment">// Get pitch sample</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>          <span class="keywordtype">float</span> sample = tracker-&gt;EstimatePitch( pre-&gt;Read() );</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span> </div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>          <span class="comment">// Set pitch sample</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>          {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            <span class="comment">//Locking scope</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            wxMutexLocker lock(<a class="code hl_variable" href="classPitchTunerFrame.html#a3c399a02aa89b0115d8634f9d540f284">m_guiMutex</a>);</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>            <a class="code hl_variable" href="classPitchTunerFrame.html#adb2a2ed5d25237f981405e88b13a6348">m_pitchSample</a> = sample;</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            <a class="code hl_variable" href="classPitchTunerFrame.html#a3d758479c820041aece359dd778bcfa8">m_voiced</a> = tracker-&gt;Voiced();</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>          }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span> </div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>          <span class="comment">// Send pitch event to Gui thread. </span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>          <span class="comment">// Could I pass the pitch in the event?</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>          GetEventHandler()-&gt;AddPendingEvent(<a class="code hl_variable" href="classPitchTunerFrame.html#a7a3d5d6e4d6a54148c45c971eaad1049">m_guiEvent</a>);</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        }</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>      <span class="comment">// pre, tracker and inputStream are destroyed here</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    }</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>  <span class="keywordflow">catch</span>(std::exception&amp; excpt)</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    {</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>      <a class="code hl_variable" href="classPitchTunerFrame.html#abe7c21b51be1da2a5bb4d27b500ff6ef">m_threadErrStr</a> = wxString(excpt.what(), *wxConvCurrent);</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>      GetEventHandler()-&gt;AddPendingEvent(<a class="code hl_variable" href="classPitchTunerFrame.html#a98ebd674ff7146ec55771b00e8586f13">m_threadEvent</a>);</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    }</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span> </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>  <span class="comment">// Yield() to try and avoid race condition in between main </span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>  <span class="comment">// thread reset of m_runThread then Wait()</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>  wxThreadHelper::GetThread()-&gt;Yield();</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>  <span class="comment">//Done</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>  <span class="keywordflow">return</span> (wxThread::ExitCode)0;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>}</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="ttc" id="aPitchTracker_8cc_html_af8331d758b7554af5d898200bdeaf3bf"><div class="ttname"><a href="PitchTracker_8cc.html#af8331d758b7554af5d898200bdeaf3bf">PitchTrackerCreate</a></div><div class="ttdeci">PitchTracker * PitchTrackerCreate(float sampleRate, std::size_t WindowLength, std::size_t MaxLags, float threshold, bool removeDC, bool debug)</div><div class="ttdoc">Create a PitchTracker object.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTracker_8cc_source.html#l00484">PitchTracker.cc:484</a></div></div>
<div class="ttc" id="aPitchTracker_8h_html"><div class="ttname"><a href="PitchTracker_8h.html">PitchTracker.h</a></div><div class="ttdoc">Public interface for a pitch estimator.</div></div>
<div class="ttc" id="aPitchTunerFrame_8cc_html_a06fc87d81c62e9abb8790b6e5713c55ba01f7cb654bd3011d65868bbd56d33ce9"><div class="ttname"><a href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba01f7cb654bd3011d65868bbd56d33ce9">ID_EOS</a></div><div class="ttdeci">@ ID_EOS</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00060">PitchTunerFrame.cc:60</a></div></div>
<div class="ttc" id="aPitchTunerFrame_8cc_html_a06fc87d81c62e9abb8790b6e5713c55ba31ebcdb6159c88b8f5ab708efdb148df"><div class="ttname"><a href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba31ebcdb6159c88b8f5ab708efdb148df">ID_Pitch</a></div><div class="ttdeci">@ ID_Pitch</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00059">PitchTunerFrame.cc:59</a></div></div>
<div class="ttc" id="aPitchTunerFrame_8cc_html_a06fc87d81c62e9abb8790b6e5713c55ba9e71cde61b22f3b0d4946525ec0fd7a6"><div class="ttname"><a href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55ba9e71cde61b22f3b0d4946525ec0fd7a6">ID_Quit</a></div><div class="ttdeci">@ ID_Quit</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00065">PitchTunerFrame.cc:65</a></div></div>
<div class="ttc" id="aPitchTunerFrame_8cc_html_a06fc87d81c62e9abb8790b6e5713c55bac45bd918dfebf30575b0551c2480fb0a"><div class="ttname"><a href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bac45bd918dfebf30575b0551c2480fb0a">ID_GuiTest</a></div><div class="ttdeci">@ ID_GuiTest</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00062">PitchTunerFrame.cc:62</a></div></div>
<div class="ttc" id="aPitchTunerFrame_8cc_html_a06fc87d81c62e9abb8790b6e5713c55bad5ede63994300484a6a58a1087ea05e4"><div class="ttname"><a href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55bad5ede63994300484a6a58a1087ea05e4">ID_ThreadError</a></div><div class="ttdeci">@ ID_ThreadError</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00061">PitchTunerFrame.cc:61</a></div></div>
<div class="ttc" id="aPitchTunerFrame_8cc_html_a06fc87d81c62e9abb8790b6e5713c55baf425bef0cd624d8241ad50c96fcd8040"><div class="ttname"><a href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf425bef0cd624d8241ad50c96fcd8040">ID_DeviceOptions</a></div><div class="ttdeci">@ ID_DeviceOptions</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00063">PitchTunerFrame.cc:63</a></div></div>
<div class="ttc" id="aPitchTunerFrame_8cc_html_a06fc87d81c62e9abb8790b6e5713c55baf587e870a11ee3eb564b09020706a377"><div class="ttname"><a href="PitchTunerFrame_8cc.html#a06fc87d81c62e9abb8790b6e5713c55baf587e870a11ee3eb564b09020706a377">ID_About</a></div><div class="ttdeci">@ ID_About</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00064">PitchTunerFrame.cc:64</a></div></div>
<div class="ttc" id="aPitchTunerFrame_8h_html"><div class="ttname"><a href="PitchTunerFrame_8h.html">PitchTunerFrame.h</a></div><div class="ttdoc">wxWidgets GUI for the PitchTracker pitch estimator</div></div>
<div class="ttc" id="aPreProcessor_8cc_html_a04b47c92b7e74425eca5805f3bd52208"><div class="ttname"><a href="PreProcessor_8cc.html#a04b47c92b7e74425eca5805f3bd52208">PreProcessorCreate</a></div><div class="ttdeci">PreProcessor * PreProcessorCreate(saInputStream *inputStream, std::size_t channel, std::size_t msWindow, std::size_t msTmax, std::size_t msTsample, std::size_t subSample, float subSampleLpCutoff, float baseLineHpCutoff, bool disableHpFilter, bool disableAgc, bool debug)</div><div class="ttdef"><b>Definition:</b> <a href="PreProcessor_8cc_source.html#l00375">PreProcessor.cc:375</a></div></div>
<div class="ttc" id="aPreProcessor_8h_html"><div class="ttname"><a href="PreProcessor_8h.html">PreProcessor.h</a></div><div class="ttdoc">Pre-processing for the pitch estimator.</div></div>
<div class="ttc" id="aclassPitchTunerFrame_html"><div class="ttname"><a href="classPitchTunerFrame.html">PitchTunerFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00041">PitchTunerFrame.h:42</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a0c06945e219215c9739b4571947f1668"><div class="ttname"><a href="classPitchTunerFrame.html#a0c06945e219215c9739b4571947f1668">PitchTunerFrame::OnThreadError</a></div><div class="ttdeci">void OnThreadError(wxCommandEvent &amp;)</div><div class="ttdoc">Error in the pitch estimation thread.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00370">PitchTunerFrame.cc:370</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a0cb3ec24d2a6b9236f523681dd0d61e4"><div class="ttname"><a href="classPitchTunerFrame.html#a0cb3ec24d2a6b9236f523681dd0d61e4">PitchTunerFrame::OnPitch</a></div><div class="ttdeci">void OnPitch(wxCommandEvent &amp;)</div><div class="ttdoc">A new pitch estimate is available. Update the GUI.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00384">PitchTunerFrame.cc:384</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a1855245a2b04374760518736bac5a3bc"><div class="ttname"><a href="classPitchTunerFrame.html#a1855245a2b04374760518736bac5a3bc">PitchTunerFrame::m_disableHpFilter</a></div><div class="ttdeci">bool m_disableHpFilter</div><div class="ttdoc">Disable the high pass filter.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00112">PitchTunerFrame.h:112</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a1ca32c26a6550f44eadf0bd60e7c8a84"><div class="ttname"><a href="classPitchTunerFrame.html#a1ca32c26a6550f44eadf0bd60e7c8a84">PitchTunerFrame::m_deviceLatencyMs</a></div><div class="ttdeci">std::size_t m_deviceLatencyMs</div><div class="ttdoc">Audio device input buffer storage in ms.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00097">PitchTunerFrame.h:97</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a2425470b7e551d201ca574d1bfaf406d"><div class="ttname"><a href="classPitchTunerFrame.html#a2425470b7e551d201ca574d1bfaf406d">PitchTunerFrame::m_baseLineHpFilterCutoff</a></div><div class="ttdeci">float m_baseLineHpFilterCutoff</div><div class="ttdoc">High pass filter cutoff frequency.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00109">PitchTunerFrame.h:109</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a2bae886ab2c21c8d5a926525346b9674"><div class="ttname"><a href="classPitchTunerFrame.html#a2bae886ab2c21c8d5a926525346b9674">PitchTunerFrame::m_frequency</a></div><div class="ttdeci">float m_frequency</div><div class="ttdoc">Note frequency.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00151">PitchTunerFrame.h:151</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a33276a0691fbd0ec1ce1a1e919365193"><div class="ttname"><a href="classPitchTunerFrame.html#a33276a0691fbd0ec1ce1a1e919365193">PitchTunerFrame::m_threshold</a></div><div class="ttdeci">float m_threshold</div><div class="ttdoc">Maximum threshold for the difference function.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00127">PitchTunerFrame.h:127</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a37faed1e27db9f5191de03c05e9da362"><div class="ttname"><a href="classPitchTunerFrame.html#a37faed1e27db9f5191de03c05e9da362">PitchTunerFrame::m_1200onLog2</a></div><div class="ttdeci">static const float m_1200onLog2</div><div class="ttdoc">Frequency ratio of a cent.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00235">PitchTunerFrame.h:235</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a3844bea220deb20b0f960e32f7cf9831"><div class="ttname"><a href="classPitchTunerFrame.html#a3844bea220deb20b0f960e32f7cf9831">PitchTunerFrame::m_disableAgc</a></div><div class="ttdeci">bool m_disableAgc</div><div class="ttdoc">Disable the pre-processor AGC.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00115">PitchTunerFrame.h:115</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a3c399a02aa89b0115d8634f9d540f284"><div class="ttname"><a href="classPitchTunerFrame.html#a3c399a02aa89b0115d8634f9d540f284">PitchTunerFrame::m_guiMutex</a></div><div class="ttdeci">wxMutex m_guiMutex</div><div class="ttdoc">Mutex on pitch.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00185">PitchTunerFrame.h:185</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a3d758479c820041aece359dd778bcfa8"><div class="ttname"><a href="classPitchTunerFrame.html#a3d758479c820041aece359dd778bcfa8">PitchTunerFrame::m_voiced</a></div><div class="ttdeci">bool m_voiced</div><div class="ttdoc">Voiced?</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00176">PitchTunerFrame.h:176</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a42b6f4660a9381d4e94648d76a1f910f"><div class="ttname"><a href="classPitchTunerFrame.html#a42b6f4660a9381d4e94648d76a1f910f">PitchTunerFrame::m_A4FrequencyLower</a></div><div class="ttdeci">int m_A4FrequencyLower</div><div class="ttdoc">Meter lower valid A4 frequency.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00145">PitchTunerFrame.h:145</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a47a69fdbb0cbdcb5966011c1c0fad63d"><div class="ttname"><a href="classPitchTunerFrame.html#a47a69fdbb0cbdcb5966011c1c0fad63d">PitchTunerFrame::m_eosEvent</a></div><div class="ttdeci">wxCommandEvent m_eosEvent</div><div class="ttdoc">Event on end-of-stream.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00194">PitchTunerFrame.h:194</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a48eb4987fbc198cc9d8912721eb07e67"><div class="ttname"><a href="classPitchTunerFrame.html#a48eb4987fbc198cc9d8912721eb07e67">PitchTunerFrame::m_msWindow</a></div><div class="ttdeci">std::size_t m_msWindow</div><div class="ttdoc">Window width for correlation.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00118">PitchTunerFrame.h:118</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a4dcdf34648018dbbee044a4bfac1285b"><div class="ttname"><a href="classPitchTunerFrame.html#a4dcdf34648018dbbee044a4bfac1285b">PitchTunerFrame::m_noteCharStrings</a></div><div class="ttdeci">static const wxChar * m_noteCharStrings[m_numNotes]</div><div class="ttdoc">List of names of notes.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00220">PitchTunerFrame.h:220</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a5288b0f1a356de63126054e017af5e42"><div class="ttname"><a href="classPitchTunerFrame.html#a5288b0f1a356de63126054e017af5e42">PitchTunerFrame::m_channel</a></div><div class="ttdeci">std::size_t m_channel</div><div class="ttdoc">Audio input device channel.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00100">PitchTunerFrame.h:100</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a5321a965113cd16b8b2991b033d3b4e8"><div class="ttname"><a href="classPitchTunerFrame.html#a5321a965113cd16b8b2991b033d3b4e8">PitchTunerFrame::m_deviceSampleRateIndex</a></div><div class="ttdeci">int m_deviceSampleRateIndex</div><div class="ttdoc">Index of sample rate for current device.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00170">PitchTunerFrame.h:170</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a5a440d81511374fbf8eb0ba04190d39b"><div class="ttname"><a href="classPitchTunerFrame.html#a5a440d81511374fbf8eb0ba04190d39b">PitchTunerFrame::m_msTmax</a></div><div class="ttdeci">std::size_t m_msTmax</div><div class="ttdoc">Maximum lag time for correlation.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00121">PitchTunerFrame.h:121</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a624e1b2faaa1a6065f43ddfc04df5156"><div class="ttname"><a href="classPitchTunerFrame.html#a624e1b2faaa1a6065f43ddfc04df5156">PitchTunerFrame::HandleError</a></div><div class="ttdeci">void HandleError(const wxString)</div><div class="ttdoc">Show an error message string on a message box.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00186">PitchTunerFrame.cc:186</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a643322c5afb1004a4084387ef8f4685c"><div class="ttname"><a href="classPitchTunerFrame.html#a643322c5afb1004a4084387ef8f4685c">PitchTunerFrame::CreateGui</a></div><div class="ttdeci">void CreateGui()</div><div class="ttdoc">Create the wxWidgets GUI elements: meter graphic, option menu and dialog.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00221">PitchTunerFrame.cc:221</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a656f5f46a1cba557262d3308fb6adf3f"><div class="ttname"><a href="classPitchTunerFrame.html#a656f5f46a1cba557262d3308fb6adf3f">PitchTunerFrame::m_noteSemitonesFromA4</a></div><div class="ttdeci">static const int m_noteSemitonesFromA4[m_numNotes]</div><div class="ttdoc">List of semitones from A4 for each note.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00223">PitchTunerFrame.h:223</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a67320329e3515c9d02089a22e12ba035"><div class="ttname"><a href="classPitchTunerFrame.html#a67320329e3515c9d02089a22e12ba035">PitchTunerFrame::m_debug</a></div><div class="ttdeci">bool m_debug</div><div class="ttdoc">Store debugging information.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00139">PitchTunerFrame.h:139</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a6a4123b218a3f83ad66d963dc031cae9"><div class="ttname"><a href="classPitchTunerFrame.html#a6a4123b218a3f83ad66d963dc031cae9">PitchTunerFrame::OnDeviceOptions</a></div><div class="ttdeci">void OnDeviceOptions(wxCommandEvent &amp;)</div><div class="ttdoc">Device s menu item selected. Show the &quot;Device Options&quot; dialog box.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00286">PitchTunerFrame.cc:286</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a6b5efdc61604f30b6a0f2d2b548a7ec2"><div class="ttname"><a href="classPitchTunerFrame.html#a6b5efdc61604f30b6a0f2d2b548a7ec2">PitchTunerFrame::OnClose</a></div><div class="ttdeci">void OnClose(wxCloseEvent &amp;)</div><div class="ttdoc">Close button on frame selected.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00375">PitchTunerFrame.cc:375</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a6c181dcae4852db3efd28ac91210e779"><div class="ttname"><a href="classPitchTunerFrame.html#a6c181dcae4852db3efd28ac91210e779">PitchTunerFrame::m_EndOfStream</a></div><div class="ttdeci">bool m_EndOfStream</div><div class="ttdoc">Usually end-of-file for an input stream from a file.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00197">PitchTunerFrame.h:197</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a6e47ac367cd8cc8c6fce8e8682359835"><div class="ttname"><a href="classPitchTunerFrame.html#a6e47ac367cd8cc8c6fce8e8682359835">PitchTunerFrame::FindAudioDevices</a></div><div class="ttdeci">bool FindAudioDevices()</div><div class="ttdoc">Interrogate the sound system and create a list of audio devices.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00192">PitchTunerFrame.cc:192</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a7666a6a5fe4c4e5ed5a9342de4bb3186"><div class="ttname"><a href="classPitchTunerFrame.html#a7666a6a5fe4c4e5ed5a9342de4bb3186">PitchTunerFrame::m_noteRatioFromA4</a></div><div class="ttdeci">float m_noteRatioFromA4[m_numNotes]</div><div class="ttdoc">List of frequency ratio of note compared to A4.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00226">PitchTunerFrame.h:226</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a77d374829e78ba096091e8410735a00a"><div class="ttname"><a href="classPitchTunerFrame.html#a77d374829e78ba096091e8410735a00a">PitchTunerFrame::m_A4NoteNameIndex</a></div><div class="ttdeci">static const int m_A4NoteNameIndex</div><div class="ttdoc">Index of A4.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00229">PitchTunerFrame.h:229</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a7a3d5d6e4d6a54148c45c971eaad1049"><div class="ttname"><a href="classPitchTunerFrame.html#a7a3d5d6e4d6a54148c45c971eaad1049">PitchTunerFrame::m_guiEvent</a></div><div class="ttdeci">wxCommandEvent m_guiEvent</div><div class="ttdoc">Event on pitch.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00188">PitchTunerFrame.h:188</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a7d6446265c8ff281dcdbd731f7e1f074"><div class="ttname"><a href="classPitchTunerFrame.html#a7d6446265c8ff281dcdbd731f7e1f074">PitchTunerFrame::m_inputLpFilterCutoff</a></div><div class="ttdeci">float m_inputLpFilterCutoff</div><div class="ttdoc">Low pass filter cutoff frequency.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00106">PitchTunerFrame.h:106</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a7e5106bccacc91d503b33f3193b4d08f"><div class="ttname"><a href="classPitchTunerFrame.html#a7e5106bccacc91d503b33f3193b4d08f">PitchTunerFrame::m_deviceName</a></div><div class="ttdeci">wxString m_deviceName</div><div class="ttdoc">Read audio waveform from this device.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00091">PitchTunerFrame.h:91</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a842c5b15506e9e12684e22faab489ee3"><div class="ttname"><a href="classPitchTunerFrame.html#a842c5b15506e9e12684e22faab489ee3">PitchTunerFrame::m_runThread</a></div><div class="ttdeci">bool m_runThread</div><div class="ttdoc">Thread running flag.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00182">PitchTunerFrame.h:182</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a86fe850d493a3a1b408845677b62cdb9"><div class="ttname"><a href="classPitchTunerFrame.html#a86fe850d493a3a1b408845677b62cdb9">PitchTunerFrame::m_A4FrequencyUpper</a></div><div class="ttdeci">int m_A4FrequencyUpper</div><div class="ttdoc">Meter upper valid A4 frequency.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00148">PitchTunerFrame.h:148</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a8df26e34cddad87e7b538d6a338a9dec"><div class="ttname"><a href="classPitchTunerFrame.html#a8df26e34cddad87e7b538d6a338a9dec">PitchTunerFrame::m_noteNameIndex</a></div><div class="ttdeci">int m_noteNameIndex</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00158">PitchTunerFrame.h:158</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a8e98d9f271b63ac155e559d21dbda1fc"><div class="ttname"><a href="classPitchTunerFrame.html#a8e98d9f271b63ac155e559d21dbda1fc">PitchTunerFrame::m_deviceInfo</a></div><div class="ttdeci">guiDeviceInfo m_deviceInfo</div><div class="ttdoc">Device info lists.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00164">PitchTunerFrame.h:164</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a8eaad416a559fdb159339c0e8abfaa76"><div class="ttname"><a href="classPitchTunerFrame.html#a8eaad416a559fdb159339c0e8abfaa76">PitchTunerFrame::OnGuiTest</a></div><div class="ttdeci">void OnGuiTest(wxTimerEvent &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00394">PitchTunerFrame.cc:394</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a912229b2498f3e636287abbbeaa289e3"><div class="ttname"><a href="classPitchTunerFrame.html#a912229b2498f3e636287abbbeaa289e3">PitchTunerFrame::m_A4Frequency</a></div><div class="ttdeci">int m_A4Frequency</div><div class="ttdoc">Nominal A4 frequency.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00133">PitchTunerFrame.h:133</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a94a53675d8ae294618f5923f15db37a4"><div class="ttname"><a href="classPitchTunerFrame.html#a94a53675d8ae294618f5923f15db37a4">PitchTunerFrame::m_units</a></div><div class="ttdeci">wxString m_units</div><div class="ttdoc">Meter units.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00154">PitchTunerFrame.h:154</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a98ebd674ff7146ec55771b00e8586f13"><div class="ttname"><a href="classPitchTunerFrame.html#a98ebd674ff7146ec55771b00e8586f13">PitchTunerFrame::m_threadEvent</a></div><div class="ttdeci">wxCommandEvent m_threadEvent</div><div class="ttdoc">Event on thread error.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00191">PitchTunerFrame.h:191</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a9968aa18b15da5aaadf47e2d2002dcab"><div class="ttname"><a href="classPitchTunerFrame.html#a9968aa18b15da5aaadf47e2d2002dcab">PitchTunerFrame::m_noteNames</a></div><div class="ttdeci">wxArrayString m_noteNames</div><div class="ttdoc">List of note names.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00157">PitchTunerFrame.h:157</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a9bd41f63b369c4294e0fdde40bca2419"><div class="ttname"><a href="classPitchTunerFrame.html#a9bd41f63b369c4294e0fdde40bca2419">PitchTunerFrame::RunThread</a></div><div class="ttdeci">void RunThread()</div><div class="ttdoc">Run the pitch estimation algorithm in a separate thread.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00441">PitchTunerFrame.cc:441</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_a9ddd40910478c3de15814b83632f5abd"><div class="ttname"><a href="classPitchTunerFrame.html#a9ddd40910478c3de15814b83632f5abd">PitchTunerFrame::m_meter</a></div><div class="ttdeci">guiMeter * m_meter</div><div class="ttdoc">Meter.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00179">PitchTunerFrame.h:179</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_aa75f1186c539552c7a6be0e3ad038f51"><div class="ttname"><a href="classPitchTunerFrame.html#aa75f1186c539552c7a6be0e3ad038f51">PitchTunerFrame::OnQuit</a></div><div class="ttdeci">void OnQuit(wxCommandEvent &amp;)</div><div class="ttdoc">Quit menu item selected.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00360">PitchTunerFrame.cc:360</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_aad7659aaaf8dc9225565d21b62897319"><div class="ttname"><a href="classPitchTunerFrame.html#aad7659aaaf8dc9225565d21b62897319">PitchTunerFrame::m_removeDC</a></div><div class="ttdeci">bool m_removeDC</div><div class="ttdoc">Remove DC value from correlation.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00130">PitchTunerFrame.h:130</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_ab1683c2d81246b644126287940bf044a"><div class="ttname"><a href="classPitchTunerFrame.html#ab1683c2d81246b644126287940bf044a">PitchTunerFrame::m_fileName</a></div><div class="ttdeci">wxString m_fileName</div><div class="ttdoc">Read audio waveform from this file.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00088">PitchTunerFrame.h:88</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_ab71e3f89a7f5ad87ee7e372b11841a81"><div class="ttname"><a href="classPitchTunerFrame.html#ab71e3f89a7f5ad87ee7e372b11841a81">PitchTunerFrame::m_subSample</a></div><div class="ttdeci">std::size_t m_subSample</div><div class="ttdoc">Subsample the audio waveform after lowpass filtering.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00103">PitchTunerFrame.h:103</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_abb46e4f8cbf5cc2761c1764aa8850eda"><div class="ttname"><a href="classPitchTunerFrame.html#abb46e4f8cbf5cc2761c1764aa8850eda">PitchTunerFrame::Entry</a></div><div class="ttdeci">void * Entry()</div><div class="ttdoc">Pitch estimation thread entry function called by wxThreadHelper.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00488">PitchTunerFrame.cc:488</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_abe7c21b51be1da2a5bb4d27b500ff6ef"><div class="ttname"><a href="classPitchTunerFrame.html#abe7c21b51be1da2a5bb4d27b500ff6ef">PitchTunerFrame::m_threadErrStr</a></div><div class="ttdeci">wxString m_threadErrStr</div><div class="ttdoc">Thread error message.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00211">PitchTunerFrame.h:211</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_aca86e45791f4b803dfb6d274b4039857"><div class="ttname"><a href="classPitchTunerFrame.html#aca86e45791f4b803dfb6d274b4039857">PitchTunerFrame::m_msTsample</a></div><div class="ttdeci">std::size_t m_msTsample</div><div class="ttdoc">Interval between pitch estimates.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00124">PitchTunerFrame.h:124</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_ad225236ff1e92425a4f93d80e8b3200a"><div class="ttname"><a href="classPitchTunerFrame.html#ad225236ff1e92425a4f93d80e8b3200a">PitchTunerFrame::m_semitoneRatio</a></div><div class="ttdeci">static const float m_semitoneRatio</div><div class="ttdoc">Frequency ratio of a semitone in 12-TET.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00232">PitchTunerFrame.h:232</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_adb2a2ed5d25237f981405e88b13a6348"><div class="ttname"><a href="classPitchTunerFrame.html#adb2a2ed5d25237f981405e88b13a6348">PitchTunerFrame::m_pitchSample</a></div><div class="ttdeci">float m_pitchSample</div><div class="ttdoc">Pitch sample.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00173">PitchTunerFrame.h:173</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_adfc0b43df9d803fb66ac7b68776805f7"><div class="ttname"><a href="classPitchTunerFrame.html#adfc0b43df9d803fb66ac7b68776805f7">PitchTunerFrame::UpdateGui</a></div><div class="ttdeci">void UpdateGui()</div><div class="ttdoc">Draw the wxWidgets GUI.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00248">PitchTunerFrame.cc:248</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_ae3e996f3ccafd74f023c451a4c6bfb1a"><div class="ttname"><a href="classPitchTunerFrame.html#ae3e996f3ccafd74f023c451a4c6bfb1a">PitchTunerFrame::OnEndOfStream</a></div><div class="ttdeci">void OnEndOfStream(wxCommandEvent &amp;)</div><div class="ttdoc">End of stream event found on file or device.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00365">PitchTunerFrame.cc:365</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_ae60e45d2c7b2b5628e0312cc7a9d9ad1"><div class="ttname"><a href="classPitchTunerFrame.html#ae60e45d2c7b2b5628e0312cc7a9d9ad1">PitchTunerFrame::m_numNotes</a></div><div class="ttdeci">static const int m_numNotes</div><div class="ttdoc">Number of notes.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00217">PitchTunerFrame.h:217</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_aec3ff757badf5c2c395d3ae294b1df39"><div class="ttname"><a href="classPitchTunerFrame.html#aec3ff757badf5c2c395d3ae294b1df39">PitchTunerFrame::StopThread</a></div><div class="ttdeci">void StopThread()</div><div class="ttdoc">Stop the pitch estimation thread.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00467">PitchTunerFrame.cc:467</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_aeca830bab8092a7f5fb4b41e500ed8fd"><div class="ttname"><a href="classPitchTunerFrame.html#aeca830bab8092a7f5fb4b41e500ed8fd">PitchTunerFrame::m_guiTest</a></div><div class="ttdeci">bool m_guiTest</div><div class="ttdoc">Enable GUI debugging with a fake pitch estimate.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00136">PitchTunerFrame.h:136</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_af4d19db65260535d3581cf247b18641b"><div class="ttname"><a href="classPitchTunerFrame.html#af4d19db65260535d3581cf247b18641b">PitchTunerFrame::OnAbout</a></div><div class="ttdeci">void OnAbout(wxCommandEvent &amp;)</div><div class="ttdoc">About menu item selected. Show the &quot;about&quot; message box.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8cc_source.html#l00316">PitchTunerFrame.cc:316</a></div></div>
<div class="ttc" id="aclassPitchTunerFrame_html_afa3a6fc3170d2cae5cd07773486c6d84"><div class="ttname"><a href="classPitchTunerFrame.html#afa3a6fc3170d2cae5cd07773486c6d84">PitchTunerFrame::m_deviceInfoIndex</a></div><div class="ttdeci">int m_deviceInfoIndex</div><div class="ttdoc">Index of current device.</div><div class="ttdef"><b>Definition:</b> <a href="PitchTunerFrame_8h_source.html#l00167">PitchTunerFrame.h:167</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiDeviceInfo_html_a0d43142cc9190515cf72338ec6fc4e75"><div class="ttname"><a href="classPitchTunerGui_1_1guiDeviceInfo.html#a0d43142cc9190515cf72338ec6fc4e75">PitchTunerGui::guiDeviceInfo::GetDeviceSampleRate</a></div><div class="ttdeci">std::size_t GetDeviceSampleRate(const std::size_t deviceNameIndex, const std::size_t sampleRateIndex) const</div><div class="ttdoc">Get device sample rate.</div><div class="ttdef"><b>Definition:</b> <a href="guiDeviceInfo_8h_source.html#l00113">guiDeviceInfo.h:113</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiDeviceInfo_html_a43dba31d115ef60a07576def3f4f0320"><div class="ttname"><a href="classPitchTunerGui_1_1guiDeviceInfo.html#a43dba31d115ef60a07576def3f4f0320">PitchTunerGui::guiDeviceInfo::GetDeviceName</a></div><div class="ttdeci">const wxString &amp; GetDeviceName(const std::size_t deviceNameIndex) const</div><div class="ttdoc">Get device name.</div><div class="ttdef"><b>Definition:</b> <a href="guiDeviceInfo_8h_source.html#l00100">guiDeviceInfo.h:100</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiDeviceInfo_html_a5e8f39c7dbabf8a275c90dded23d41f3"><div class="ttname"><a href="classPitchTunerGui_1_1guiDeviceInfo.html#a5e8f39c7dbabf8a275c90dded23d41f3">PitchTunerGui::guiDeviceInfo::AddDevice</a></div><div class="ttdeci">void AddDevice(const std::string deviceName, const guiSampleRateList &amp;rates)</div><div class="ttdoc">Add device.</div><div class="ttdef"><b>Definition:</b> <a href="guiDeviceInfo_8h_source.html#l00054">guiDeviceInfo.h:54</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiDeviceInfo_html_ad32d49a971975381c10210a89ccd4d99"><div class="ttname"><a href="classPitchTunerGui_1_1guiDeviceInfo.html#ad32d49a971975381c10210a89ccd4d99">PitchTunerGui::guiDeviceInfo::Alloc</a></div><div class="ttdeci">void Alloc(const std::size_t numDevices)</div><div class="ttdoc">Alloc device storage.</div><div class="ttdef"><b>Definition:</b> <a href="guiDeviceInfo_8h_source.html#l00041">guiDeviceInfo.h:41</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiMeter_html"><div class="ttname"><a href="classPitchTunerGui_1_1guiMeter.html">PitchTunerGui::guiMeter</a></div><div class="ttdef"><b>Definition:</b> <a href="guiMeter_8h_source.html#l00015">guiMeter.h:16</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiMeter_html_a0428e8a1596c04d859b38c3f874a4943"><div class="ttname"><a href="classPitchTunerGui_1_1guiMeter.html#a0428e8a1596c04d859b38c3f874a4943">PitchTunerGui::guiMeter::SetName</a></div><div class="ttdeci">void SetName(const wxString &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="guiMeter_8h_source.html#l00072">guiMeter.h:72</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiMeter_html_a1fdd77cfdd9ae63c8124afb477ac5a9e"><div class="ttname"><a href="classPitchTunerGui_1_1guiMeter.html#a1fdd77cfdd9ae63c8124afb477ac5a9e">PitchTunerGui::guiMeter::SetPitchError</a></div><div class="ttdeci">void SetPitchError(const float &amp;pitchError)</div><div class="ttdef"><b>Definition:</b> <a href="guiMeter_8h_source.html#l00052">guiMeter.h:52</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiMeter_html_a3c571c441b2940ed51c5c6d0d2dad92e"><div class="ttname"><a href="classPitchTunerGui_1_1guiMeter.html#a3c571c441b2940ed51c5c6d0d2dad92e">PitchTunerGui::guiMeter::SetPitch</a></div><div class="ttdeci">void SetPitch(const float &amp;pitch, const bool &amp;voiced)</div><div class="ttdef"><b>Definition:</b> <a href="guiMeter_8h_source.html#l00057">guiMeter.h:57</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiMeter_html_abc22dbe881c10e631dbc425f65df69cd"><div class="ttname"><a href="classPitchTunerGui_1_1guiMeter.html#abc22dbe881c10e631dbc425f65df69cd">PitchTunerGui::guiMeter::SetFrequency</a></div><div class="ttdeci">void SetFrequency(const float &amp;frequency)</div><div class="ttdef"><b>Definition:</b> <a href="guiMeter_8h_source.html#l00062">guiMeter.h:62</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiMeter_html_abc4a1d488c704ec5ab1d2163a0a69ce5"><div class="ttname"><a href="classPitchTunerGui_1_1guiMeter.html#abc4a1d488c704ec5ab1d2163a0a69ce5">PitchTunerGui::guiMeter::RePaint</a></div><div class="ttdeci">void RePaint()</div><div class="ttdef"><b>Definition:</b> <a href="guiMeter_8cc_source.html#l00020">guiMeter.cc:20</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiOptionsDialog_html"><div class="ttname"><a href="classPitchTunerGui_1_1guiOptionsDialog.html">PitchTunerGui::guiOptionsDialog</a></div><div class="ttdoc">A class for the wxWidgets GUI options dialog.</div><div class="ttdef"><b>Definition:</b> <a href="guiOptionsDialog_8h_source.html#l00020">guiOptionsDialog.h:21</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiOptionsDialog_html_a2b79fb5c3315c797ec25faf12870d65e"><div class="ttname"><a href="classPitchTunerGui_1_1guiOptionsDialog.html#a2b79fb5c3315c797ec25faf12870d65e">PitchTunerGui::guiOptionsDialog::GetA4Frequency</a></div><div class="ttdeci">int GetA4Frequency()</div><div class="ttdoc">Get selected A4 frequency index.</div><div class="ttdef"><b>Definition:</b> <a href="guiOptionsDialog_8h_source.html#l00053">guiOptionsDialog.h:53</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiOptionsDialog_html_ab31d1ce1ba2c97d30c38e4ef9ee3a778"><div class="ttname"><a href="classPitchTunerGui_1_1guiOptionsDialog.html#ab31d1ce1ba2c97d30c38e4ef9ee3a778">PitchTunerGui::guiOptionsDialog::GetDeviceSampleRateIndex</a></div><div class="ttdeci">int GetDeviceSampleRateIndex()</div><div class="ttdoc">Get selected device sample rate index.</div><div class="ttdef"><b>Definition:</b> <a href="guiOptionsDialog_8h_source.html#l00049">guiOptionsDialog.h:49</a></div></div>
<div class="ttc" id="aclassPitchTunerGui_1_1guiOptionsDialog_html_af289d4d6d6c50e66b61045068ced118d"><div class="ttname"><a href="classPitchTunerGui_1_1guiOptionsDialog.html#af289d4d6d6c50e66b61045068ced118d">PitchTunerGui::guiOptionsDialog::GetDeviceNameIndex</a></div><div class="ttdeci">int GetDeviceNameIndex()</div><div class="ttdoc">Get selected device name index.</div><div class="ttdef"><b>Definition:</b> <a href="guiOptionsDialog_8h_source.html#l00045">guiOptionsDialog.h:45</a></div></div>
<div class="ttc" id="aclassPitchTuner_html"><div class="ttname"><a href="classPitchTuner.html">PitchTuner</a></div><div class="ttdef"><b>Definition:</b> <a href="PitchTuner_8cc_source.html#l00085">PitchTuner.cc:86</a></div></div>
<div class="ttc" id="aclassSimpleAudio_1_1saDeviceInfo_html"><div class="ttname"><a href="classSimpleAudio_1_1saDeviceInfo.html">SimpleAudio::saDeviceInfo</a></div><div class="ttdoc">A class for obtaining information about an audio device.</div><div class="ttdef"><b>Definition:</b> <a href="saDeviceInfo_8h_source.html#l00037">saDeviceInfo.h:38</a></div></div>
<div class="ttc" id="aclassSimpleAudio_1_1saDeviceInfo_html_a31d1053aee208079bcc3c5e1884774df"><div class="ttname"><a href="classSimpleAudio_1_1saDeviceInfo.html#a31d1053aee208079bcc3c5e1884774df">SimpleAudio::saDeviceInfo::Empty</a></div><div class="ttdeci">bool Empty()</div><div class="ttdoc">Device info list empty?</div><div class="ttdef"><b>Definition:</b> <a href="saDeviceInfo_8cc_source.html#l00065">saDeviceInfo.cc:65</a></div></div>
<div class="ttc" id="aclassSimpleAudio_1_1saDeviceInfo_html_a32f7d65fd295ff9f2fb741c56bc740ed"><div class="ttname"><a href="classSimpleAudio_1_1saDeviceInfo.html#a32f7d65fd295ff9f2fb741c56bc740ed">SimpleAudio::saDeviceInfo::getDeviceNames</a></div><div class="ttdeci">void getDeviceNames(saDeviceInfoDeviceNameList &amp;deviceNameList)</div><div class="ttdoc">Get device names.</div><div class="ttdef"><b>Definition:</b> <a href="saDeviceInfo_8cc_source.html#l00016">saDeviceInfo.cc:16</a></div></div>
<div class="ttc" id="aclassSimpleAudio_1_1saDeviceInfo_html_a4789c61c74b0080bbca2bfd1adfda3a9"><div class="ttname"><a href="classSimpleAudio_1_1saDeviceInfo.html#a4789c61c74b0080bbca2bfd1adfda3a9">SimpleAudio::saDeviceInfo::queryInputDevices</a></div><div class="ttdeci">void queryInputDevices()</div><div class="ttdoc">Query simple audio input device info.</div><div class="ttdef"><b>Definition:</b> <a href="saDeviceInfoDetail_8cc_source.html#l00027">saDeviceInfoDetail.cc:27</a></div></div>
<div class="ttc" id="aclassSimpleAudio_1_1saDeviceInfo_html_a4af59d73169316a4b750b4e8146259b8"><div class="ttname"><a href="classSimpleAudio_1_1saDeviceInfo.html#a4af59d73169316a4b750b4e8146259b8">SimpleAudio::saDeviceInfo::getDeviceSampleRateList</a></div><div class="ttdeci">void getDeviceSampleRateList(saDeviceInfoDeviceName &amp;deviceName, saDeviceInfoSampleRateList &amp;sampleRateList)</div><div class="ttdoc">Get device sample rates.</div><div class="ttdef"><b>Definition:</b> <a href="saDeviceInfo_8cc_source.html#l00028">saDeviceInfo.cc:28</a></div></div>
<div class="ttc" id="aclassSimpleAudio_1_1saInputStream_html"><div class="ttname"><a href="classSimpleAudio_1_1saInputStream.html">SimpleAudio::saInputStream</a></div><div class="ttdoc">A class for audio input streams from a file, audio device etc.</div><div class="ttdef"><b>Definition:</b> <a href="saInputStream_8h_source.html#l00015">saInputStream.h:16</a></div></div>
<div class="ttc" id="aguiDeviceInfo_8h_html"><div class="ttname"><a href="guiDeviceInfo_8h.html">guiDeviceInfo.h</a></div></div>
<div class="ttc" id="aguiMeter_8h_html"><div class="ttname"><a href="guiMeter_8h.html">guiMeter.h</a></div></div>
<div class="ttc" id="aguiOptionsDialog_8h_html"><div class="ttname"><a href="guiOptionsDialog_8h.html">guiOptionsDialog.h</a></div><div class="ttdoc">PitchTuner GUI options.</div></div>
<div class="ttc" id="anamespaceSimpleAudio_html_a26d565e8a538ae4296a2f24f8ac5157f"><div class="ttname"><a href="namespaceSimpleAudio.html#a26d565e8a538ae4296a2f24f8ac5157f">SimpleAudio::saDeviceInfoSampleRateList</a></div><div class="ttdeci">std::vector&lt; saSampleRate &gt; saDeviceInfoSampleRateList</div><div class="ttdef"><b>Definition:</b> <a href="saDeviceInfo_8h_source.html#l00033">saDeviceInfo.h:33</a></div></div>
<div class="ttc" id="anamespaceSimpleAudio_html_a4e73d87b55cae670ab54f236d51448e6"><div class="ttname"><a href="namespaceSimpleAudio.html#a4e73d87b55cae670ab54f236d51448e6">SimpleAudio::saDeviceInfoDeviceNameList</a></div><div class="ttdeci">std::vector&lt; saDeviceInfoDeviceName &gt; saDeviceInfoDeviceNameList</div><div class="ttdef"><b>Definition:</b> <a href="saDeviceInfo_8h_source.html#l00025">saDeviceInfo.h:25</a></div></div>
<div class="ttc" id="anamespaceSimpleAudio_html_a77fa3db2da531e8d0cd3f6f8e69046fb"><div class="ttname"><a href="namespaceSimpleAudio.html#a77fa3db2da531e8d0cd3f6f8e69046fb">SimpleAudio::saInputStreamOpenDevice</a></div><div class="ttdeci">saInputStream * saInputStreamOpenDevice(const std::string &amp;deviceName, const std::size_t framesPerSecond, const std::size_t msDeviceLatency, const std::size_t channels, const bool debug)</div><div class="ttdoc">Open a simple audio input stream from a device.</div><div class="ttdef"><b>Definition:</b> <a href="saInputStream_8cc_source.html#l00358">saInputStream.cc:358</a></div></div>
<div class="ttc" id="anamespaceSimpleAudio_html_aac6a515d3aa36949fa6908029c58c4b0"><div class="ttname"><a href="namespaceSimpleAudio.html#aac6a515d3aa36949fa6908029c58c4b0">SimpleAudio::saInputStreamOpenFile</a></div><div class="ttdeci">saInputStream * saInputStreamOpenFile(const std::string &amp;fileName)</div><div class="ttdoc">Open a simple audio input stream from a file.</div><div class="ttdef"><b>Definition:</b> <a href="saInputStream_8cc_source.html#l00372">saInputStream.cc:372</a></div></div>
<div class="ttc" id="asaDeviceInfo_8h_html"><div class="ttname"><a href="saDeviceInfo_8h.html">saDeviceInfo.h</a></div><div class="ttdoc">Find available audio devices.</div></div>
<div class="ttc" id="asaInputFileSelector_8h_html"><div class="ttname"><a href="saInputFileSelector_8h.html">saInputFileSelector.h</a></div></div>
<div class="ttc" id="asaInputFileWav_8h_html"><div class="ttname"><a href="saInputFileWav_8h.html">saInputFileWav.h</a></div></div>
<div class="ttc" id="asaInputStream_8h_html"><div class="ttname"><a href="saInputStream_8h.html">saInputStream.h</a></div><div class="ttdoc">Abstract class for a simple audio input stream.</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
